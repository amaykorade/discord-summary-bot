# Render Blueprint - SmartMod Summary Bot
# Deploy via: Dashboard → New → Blueprint, then connect this repo
# You must add environment variables in the Render dashboard after creating

services:
  - type: web
    name: smartmod-web
    runtime: node
    buildCommand: npm install && cd web && npm install && npm run build
    startCommand: cd web && npm start
    envVars:
      - key: NODE_VERSION
        value: 20
      # Add these in Render Dashboard:
      # DATABASE_URL, DISCORD_CLIENT_ID, DISCORD_CLIENT_SECRET,
      # NEXTAUTH_SECRET, NEXTAUTH_URL, NEXT_PUBLIC_DISCORD_CLIENT_ID,
      # NEXT_PUBLIC_RAZORPAY_KEY_ID, RAZORPAY_KEY_SECRET, RAZORPAY_WEBHOOK_SECRET

  - type: worker
    name: smartmod-bot
    runtime: node
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_VERSION
        value: 20
      # Add these in Render Dashboard:
      # DATABASE_URL, DISCORD_TOKEN, OPENAI_API_KEY
